<div class="page-layout">
  <!-- Leaderboard table -->
  <div class="page-layout__leaderboard">
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Points</th>
        </tr>
      </thead>
      <tbody>
        <% @users.each do |user| %>
          <% category = LeaderboardCategory.category_for_user(user.points) %>
          <tr class="page-layout__leaderboard--highlighted" style="background-color: <%= category&.color || 'none' %>">
            <td><%= user.full_name %></td>
            <td><%= user.points %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>

  <!-- Categories table -->
  <div class="page-layout__categories">
    <h1>Categories</h1>
    <table>
      <thead>
        <tr>
          <th>Category Name</th>
          <th>Minimum Points</th>
          <th>Color</th>
          <th colspan="3"></th>
        </tr>
      </thead>
      <tbody>
        <% @leaderboard_categories.each do |category| %>
          <tr>
            <td><%= category.category_name %></td>
            <td><%= category.min_points %></td>
            <!-- Color column with background color but without displaying hex text -->
            <td class="color-example" style="background-color: <%= category.color %>"></td>
            <td><%= link_to 'Show', leaderboard_category_path(category), class: 'btn btn-primary' %></td>
            <td><%= link_to 'Edit', edit_leaderboard_category_path(category), class: 'btn btn-primary' %></td>
            <td><%= link_to 'Delete', leaderboard_category_path(category), method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-primary' %></td>
          </tr>
        <% end %>
      </tbody>
    </table>

    <div style="text-align: right; margin-bottom: 20px;">
      <%= link_to 'New Category', new_leaderboard_category_path, class: 'btn btn-primary' %>
    </div>
  </div>
</div>
