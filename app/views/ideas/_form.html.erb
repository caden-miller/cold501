<main class="container">
  <header class="header">
    <h1 class="header-title">New Idea</h1>
    <div class="back">
      <%= link_to "← Back to Ideas", ideas_path, class: "button-link" %>
    </div>
  </header>

  <div class="new-wrapper">
    <div class="form-container">
      <%= form_with(model: @idea, local: true) do |form| %>

        <!-- Error Display Section -->
        <% if @idea.errors.any? %>
          <div class="error-messages" style="color: red; margin-bottom: 20px;">
            <h2><%= pluralize(@idea.errors.count, "error") %> prohibited this idea from being saved:</h2>
            <ul>
              <% @idea.errors.full_messages.each do |message| %>
                <li><%= message %></li>
              <% end %> 
            </ul>
          </div>
        <% end %>

        <div class="idea-item">
          <div class="form-group">
            <%= form.text_area :title, placeholder: "Write your title here", class: "item-title" %>
          </div>

          <div class="form-group">
            <%= form.text_area :description, placeholder: "Write description here", class: "idea-desc" %>
          </div>

          <!-- Submit Button -->
          <div class="form-group">
            <%= form.submit "Submit", class: "submit-button" %>
          </div>
        </div>

      <% end %>
    </div>
  </div>
</main>
