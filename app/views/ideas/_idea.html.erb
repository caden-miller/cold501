<div id="<%= dom_id(idea) %>" class="idea-wrapper">
  <div class="title-and-delete">
    <% if idea.user == current_user %>
      <textarea class="item-title"><%= h(idea.title) %></textarea>

      <!-- "X" delete button with unique data-modal-id for each idea -->
      <%= link_to "Ã—", "#", class: "delete-button", data: { modal_id: "delete-confirmation-modal-#{idea.id}" } %>
    <% else %>
      <p class="item-title"><%= h(idea.title) %></p>
    <% end %>
  </div>

  <% if idea.user == current_user %>
    <textarea class="idea-desc"><%= h(idea.description.squish) %></textarea>
  <% else %>
    <p class="idea-desc"><%= h(idea.description.squish) %></p>
  <% end %>

  <div class="idea-footer">
    <p><strong class="idea-user">&mdash;</strong> <%= idea.user ? idea.user&.full_name : "Unknown" %></p>
    <p><span class="utc-time" data-utc-time="<%= idea.created_at.iso8601 %>"><%= idea.created_at.strftime('%m/%d/%Y') %></span></p>
  </div>

  <!-- Unique Delete Confirmation Modal for Each Idea -->
  <div id="delete-confirmation-modal-<%= idea.id %>" class="modal hidden">
    <div class="modal-content">
      <p>Are you sure you want to delete this idea?</p>
      <%= button_to "Delete", idea_path(idea), method: :delete, data: { turbo_confirm: "Are you sure you want to delete this idea?" }, class: "confirm-delete-button" %>
      <button class="cancel-button" onclick="closeModal('delete-confirmation-modal-<%= idea.id %>')">Cancel</button>
    </div>
  </div>
</div>



